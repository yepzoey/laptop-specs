import{u as _,j as l,k as v,l as g,m as b,o as i,q as k,v as m,w as x,n as c,x as y,y as h,z as w}from"./runtime.B1RVBp2x.js";function z(s=!1){const e=v,u=e.l.u;if(!u)return;let n=()=>m(e.s);if(s){let t=0,r={};const d=x(()=>{let a=!1;const o=e.s;for(const f in o)o[f]!==r[f]&&(r[f]=o[f],a=!0);return a&&t++,t});n=()=>i(d)}u.b.length&&_(()=>{p(e,n),b(u.b)}),l(()=>{const t=g(()=>u.m.map(k));return()=>{for(const r of t)typeof r=="function"&&r()}}),u.a.length&&l(()=>{p(e,n),b(u.a)})}function p(s,e){if(s.l.s)for(const u of s.l.s)i(u);e()}function j(s,e,u){if(s==null)return e(void 0),c;const n=s.subscribe(e,u);return n.unsubscribe?()=>n.unsubscribe():n}function A(s,e,u){const n=u[e]??(u[e]={store:null,source:h(void 0),unsubscribe:c});if(n.store!==s)if(n.unsubscribe(),n.store=s??null,s==null)n.source.v=void 0,n.unsubscribe=c;else{var t=!0;n.unsubscribe=j(s,r=>{t?n.source.v=r:w(n.source,r)}),t=!1}return i(n.source)}function B(s,e){return s.set(e),e}function C(){const s={};return y(()=>{for(var e in s)s[e].unsubscribe()}),s}export{A as a,B as b,z as i,C as s};
